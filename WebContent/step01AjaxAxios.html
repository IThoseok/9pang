<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>step01AjaxAxios.html</title>

	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
	
	<h3>Spring의 새로운 응답 기술 학습</h3>
	
	<br><hr><br>
	이전까지의 실습 코드 : controller에서 jsp를 통해서 응답 : String or ModelAndView <br>
	현 실습 코드 : controller에서 요청한 html 비동기 코드에 직접 응답: jsp 사용 안하겠다는 의미<br>
	
	
	<div id="dataView"></div>
	<button onclick="reqResAxios1()">1. 비동기 요청</button>

<script>
	function reqResAxios1(){
		axios({
			  method: 'post',
			  url:'step03'
			}) 
			.then(function(resData){
				console.log(resData);
				document.querySelector("#dataView").innerHTML = resData;
		});
	}	
	
	
	function ReqResPostAxios1(){
		axios.post('cccc/updatesess', {
				product
		})
		.then(function (resData){
			//console.log(resData.config.data.name);
			//resData = JSON.parse(resData.config.data);//스트링으로 받으니까 제이슨 변환필요??????????왜 갑자기 스트링으로 받음?? 설마이거 파라미터표현그거 안해서 제이슨변형안되가꼬 계속 제이슨변환햇던거임??
			console.log(resData);
			document.getElementById("dataView").innerHTML = resData.name+resData.age;
		})
		.catch(function (error){
			document.getElementById("dataView").innerHTML ="잠시후 재요청"
		});
	}
	
	
	
</script>
</body>
</html>

